<UserControl x:Class="GS.Server.Controls.HardwareLimits"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:skyTelescope="clr-namespace:GS.Server.SkyTelescope"
             xmlns:domain="clr-namespace:GS.Shared.Domain;assembly=GS.Shared"
             xmlns:charts="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
             mc:Ignorable="d" d:DataContext="{d:DesignInstance skyTelescope:SkyTelescopeVm}">
    <GroupBox Header="{StaticResource mhlSettingsLabel}" Margin="5">
        <Grid VerticalAlignment="Top" HorizontalAlignment="Left">
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition />
                <RowDefinition />
            </Grid.RowDefinitions>
            <StackPanel Grid.Column="2" Grid.RowSpan="2" Grid.Row="0" Orientation="Vertical" VerticalAlignment="Center" Visibility="{Binding IsVisible}" Width="10">
                <Rectangle Fill="{StaticResource MaterialDesignDivider}" Width="2" Height="450"/>
            </StackPanel>
            <StackPanel Grid.Column="3" Grid.RowSpan="2" Grid.Row="0" Orientation="Vertical" VerticalAlignment="Center" Visibility="{Binding IsVisible}">
                <StackPanel Width="310" >
                    <Image Source="{Binding PolarModeIcon}" Margin="10"/>
                    <TextBlock Text="{StaticResource mhlPolarHome}" Margin="10, 10, 10, 10" />
                    <TextBlock Text="{Binding PolarModeHomeText}" Margin="10, 0, 10, 10" TextWrapping="Wrap" />
                </StackPanel>
                <Button Style="{StaticResource MaterialDesignRaisedDarkButton}" Width="100" Command="{Binding ClickPolarModeCommand}" ToolTip="{StaticResource mhlTipChangeSide}">
                    <Label Content="{StaticResource mhlButtonChange}" HorizontalAlignment="Center" />
                </Button>
            </StackPanel>
            <StackPanel Grid.Column="0" Grid.Row="0" Orientation="Vertical" VerticalAlignment="Center">
                <Label Content="{StaticResource mhlRaAz}" VerticalAlignment="Center" />
                <StackPanel Orientation="Horizontal">
                    <ComboBox materialDesign:HintAssist.Hint="{StaticResource lbAxisLimitX}" MinWidth="150"  Margin="10,0,0,10" VerticalAlignment="Center" ToolTip="{StaticResource lbAxisLimitX}" ItemsSource="{Binding AxisLimitXs}" Style="{StaticResource MaterialDesignFloatingHintComboBox}">
                        <ComboBox.SelectedItem>
                            <Binding Path="AxisLimitX" Mode="TwoWay" UpdateSourceTrigger="PropertyChanged">
                                <Binding.ValidationRules>
                                    <domain:NotEmptyValidationRule ValidatesOnTargetUpdated="True" />
                                </Binding.ValidationRules>
                            </Binding>
                        </ComboBox.SelectedItem>
                        <ComboBox.ItemsPanel>
                            <ItemsPanelTemplate>
                                <VirtualizingStackPanel />
                            </ItemsPanelTemplate>
                        </ComboBox.ItemsPanel>
                    </ComboBox>
                </StackPanel>
                <Label Content="{StaticResource mhlRaAz}" VerticalAlignment="Center" />
            </StackPanel>
            <StackPanel Grid.Column="1" Grid.Row="0" Orientation="Vertical" >
                <charts:AngularGauge Width="180" Height="180" Value="0" LabelsStep="10" TicksStrokeThickness="1" TicksForeground="{StaticResource PrimaryHueMidForegroundBrush}" FontSize="1" FromValue="0" ToValue="360" Wedge="360"  Margin="20" SectionsInnerRadius=".8" NeedleFill="Transparent" ToolTip="{StaticResource mhlRaAz}">
                    <charts:AngularGauge.Sections>
                        <charts:AngularSection FromValue="{Binding PrimarySectorX.X}" ToValue="{Binding PrimarySectorX.Y}" Fill="{StaticResource PrimaryHueMidBrush}"  />
                        <charts:AngularSection FromValue="{Binding SecondarySectorX.X}" ToValue="{Binding SecondarySectorX.Y}" Fill="{StaticResource PrimaryHueLightBrush}"  />
                    </charts:AngularGauge.Sections>
                    <charts:AngularGauge.RenderTransform>
                        <RotateTransform Angle="{Binding SlewLimitSectorRotate}" CenterX="90" CenterY="90" />
                    </charts:AngularGauge.RenderTransform>
                </charts:AngularGauge>
            </StackPanel>
            <StackPanel Grid.Column="0" Grid.Row="1" Orientation="Vertical" VerticalAlignment="Center">
                <Label Content="{StaticResource mhlDecAlt}" VerticalAlignment="Center" />
                <StackPanel Orientation="Horizontal">
                    <ComboBox materialDesign:HintAssist.Hint="{StaticResource lbAxisUpperLimitY}" MinWidth="150"  Margin="10,0,0,10" VerticalAlignment="Center" ToolTip="{StaticResource lbAxisUpperLimitY}" ItemsSource="{Binding AxisUpperLimitYs}" Style="{StaticResource MaterialDesignFloatingHintComboBox}">
                        <ComboBox.SelectedItem>
                            <Binding Path="AxisUpperLimitY" Mode="TwoWay" UpdateSourceTrigger="PropertyChanged">
                                <Binding.ValidationRules>
                                    <domain:NotEmptyValidationRule ValidatesOnTargetUpdated="True" />
                                </Binding.ValidationRules>
                            </Binding>
                        </ComboBox.SelectedItem>
                        <ComboBox.ItemsPanel>
                            <ItemsPanelTemplate>
                                <VirtualizingStackPanel />
                            </ItemsPanelTemplate>
                        </ComboBox.ItemsPanel>
                    </ComboBox>
                </StackPanel>
                <Label Content="{StaticResource mhlDecAlt}" VerticalAlignment="Center" />
                <StackPanel Orientation="Horizontal">
                    <ComboBox materialDesign:HintAssist.Hint="{StaticResource lbAxisLowerLimitY}" MinWidth="150"  Margin="10,0,0,10" VerticalAlignment="Center" ToolTip="{StaticResource lbAxisLowerLimitY}" ItemsSource="{Binding AxisLowerLimitYs}" Style="{StaticResource MaterialDesignFloatingHintComboBox}">
                        <ComboBox.SelectedItem>
                            <Binding Path="AxisLowerLimitY" Mode="TwoWay" UpdateSourceTrigger="PropertyChanged">
                                <Binding.ValidationRules>
                                    <domain:NotEmptyValidationRule ValidatesOnTargetUpdated="True" />
                                </Binding.ValidationRules>
                            </Binding>
                        </ComboBox.SelectedItem>
                        <ComboBox.ItemsPanel>
                            <ItemsPanelTemplate>
                                <VirtualizingStackPanel />
                            </ItemsPanelTemplate>
                        </ComboBox.ItemsPanel>
                    </ComboBox>
                </StackPanel>
                <TextBlock Text="{Binding AxisLimitHorizonInfo}" MaxWidth="150" TextWrapping="Wrap" Margin="10"/>
            </StackPanel>
            <StackPanel Grid.Column="1" Grid.Row="1" Orientation="Vertical">
                <charts:AngularGauge x:Name="AxisY" Width="180" Height="180" Value="9" LabelsStep="10" TicksStrokeThickness="1" TicksForeground="{StaticResource PrimaryHueMidForegroundBrush}"  FontSize="1" FromValue="-180" ToValue="180" Wedge="360"  Margin="20" SectionsInnerRadius=".8" NeedleFill="Transparent" ToolTip="{StaticResource mhlDecAlt}">
                    <charts:AngularGauge.Sections>
                        <charts:AngularSection FromValue="{Binding AxisLimitYSector.X}" ToValue="{Binding AxisLimitYSector.Y}" Fill="{StaticResource PrimaryHueMidBrush}"  />
                    </charts:AngularGauge.Sections>
                    <charts:AngularGauge.RenderTransform>
                        <ScaleTransform CenterX="90" CenterY="90" ScaleX="{Binding AxisLimitSectorReflect}"/>
                    </charts:AngularGauge.RenderTransform>
                </charts:AngularGauge>
            </StackPanel>
            <StackPanel  Grid.ColumnSpan="4" Grid.Column="0" Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center">
                <Button IsCancel="True"  Margin="0,10,10,0" Style="{StaticResource MaterialDesignRaisedDarkButton}" Command="{Binding CancelHardwareLimitsCommand}" Content="{StaticResource diaCancel}"/>
                <Button IsDefault="True"  Margin="10,10,0,0" Style="{StaticResource MaterialDesignRaisedDarkButton}" Command="{Binding AcceptHardwareLimitsCommand}" Content="{StaticResource diaAccept}"/>
            </StackPanel>
        </Grid>
    </GroupBox>
</UserControl>
 